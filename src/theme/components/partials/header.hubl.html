<!--
  templateType: global_partial
  label: Header
-->

<link rel="stylesheet" href="{{ get_asset_url('../../styles/header.css') }}">

<header class="header">
  <div class="header__container">
    
    <!-- Mobile Toggle Button -->
    <button class="header__toggle" id="menu-toggle" aria-label="Toggle Menu">&#9776;</button>

    <!-- Logo -->
    <div class="header__logo-container">
      <a href="/home-2">
        <img src="{{ get_asset_url('../../assets/logo.png') }}" alt="Orega" class="header__logo">
      </a>
    </div>

    <!-- Navigation -->
    <nav class="header__nav" id="mobile-nav">
      {% set navigation = [
        {
          "label": "Locations",
          "url": "/home-2",
          "dropdownItems": [
            { "label": "London", "url": "#", "subItems": [
              { "label": "Strand", "url": "#" },
              { "label": "Mark Lane", "url": "#" },
              { "label": "Holborn Gate", "url": "#" },
              { "label": "Lime Street", "url": "#" },
              { "label": "High Holborn", "url": "#" },
              { "label": "Gracechurch Street", "url": "#" },
              { "label": "Old Bailey", "url": "#" }
            ] },
            { "label": "Manchester", "url": "#", "subItems": [
              { "label": "The Toolal Buildings", "url": "#" },
              { "label": "Balloon Street", "url": "#" },
              { "label": "Manchester Piccadilly", "url": "#" },
              { "label": "Arkwright House", "url": "#" }
            ] },
            { "label": "North", "url": "#", "subItems": [
              { "label": "Liverpool", "url": "#" },
              { "label": "Broad Gate - Leeds", "url": "#" },
              { "label": "St. Paul's House - Leeds", "url": "#" },
              { "label": "Newcastle", "url": "#" }
            ] },
            { "label": "Midlands", "url": "#", "subItems": [
              { "label": "The Colmore Building Birmingham", "url": "#" },
              { "label": "Ingenuity House Birmingham", "url": "#" }
            ] },
            { "label": "South", "url": "#", "subItems": [
              { "label": "Marlow", "url": "#" },
              { "label": "Bristol", "url": "#" },
              { "label": "Catwick", "url": "#" },
              { "label": "Uxbridge", "url": "#" },
              { "label": "Stockley Park", "url": "#" }
            ] },
            { "label": "Scotland", "url": "#", "subItems": [
              { "label": "Aberdeen", "url": "#" },
              { "label": "Glasgow St Vincent Street", "url": "#" }
            ] }
          ]
        },
        {
          "label": "Services",
          "url": "/orega.com-services",
          "dropdownItems": [
            { "label": "Serviced Offices", "url": "/orega.com-services"},
            { "label": "Virtual Offices", "url": "/orega.com-services" },
            { "label": "Meeting Rooms", "url": "/orega.com-services" },
            { "label": "Coworking", "url": "/orega.com-services" },
            { "label": "Temporary Offices", "url": "/orega.com-services" }
          ]
        },
        { "label": "About", "url": "/about" },
        { "label": "Landlords", "url": "/landlords" },
        { "label": "News & Views", "url": "/news" },
        { "label": "Contact Us", "url": "#", "isContact": true, "dropdownItems": [
          { "label": "Contact us", "url": "/contact" },
          { "label": "Get a quote", "url": "#", "formType": "quote" },
          { "label": "Book a tour", "url": "#", "formType": "tour" },
          { "label": "Request a callback", "url": "#", "formType": "callback" }
        ] }
      ] %}

      {% for item in navigation %}
        <div class="header__nav-item {% if item.dropdownItems %}has-dropdown{% endif %}">
          <a href="{{ item.url }}" 
            class="{{ 'header__contact-link contact-toggle' if item.isContact else 'header__nav-link' }}">
            {{ item.label }}
            {% if item.dropdownItems %}
              <span class="caret">&#9662;</span>
            {% endif %}
          </a>
          {% if item.dropdownItems %}
            <div class="dropdown {% if item.isContact %}contact-dropdown{% endif %}">
              {% for drop in item.dropdownItems %}
                <div class="dropdown-item {% if drop.subItems %}has-submenu{% endif %}">
                  <a href="{{ drop.url }}"
                     {% if drop.formType %}class="contact-option" data-form="{{ drop.formType }}"{% endif %}>
                    {{ drop.label }}
                    {% if drop.subItems %}
                      <span class="caret caret-right">&#9656;</span>
                    {% endif %}
                  </a>
                  {% if drop.subItems %}
                    <div class="submenu">
                      {% for sub in drop.subItems %}
                        <a href="{{ sub.url }}">{{ sub.label }}</a>
                      {% endfor %}
                    </div>
                  {% endif %}
                </div>
              {% endfor %}
            </div>
          {% endif %}
        </div>
      {% endfor %}
    </nav>
  </div>
</header>

<!-- Contact Modal -->
<div id="contactModal" class="modal">
  <div class="modal-content">
    <span class="close">&times;</span>
    <div class="modal-body">
      <!-- Left side form -->
      <div class="form-section">
        <h2 id="form-title">Contact us</h2>
        <form>
          <div class="form-grid">
            <input type="text" placeholder="First name*" required>
            <input type="text" placeholder="Last name*" required>
            <input type="tel" placeholder="Phone number*" required>
            <input type="email" placeholder="Email*" required>
            <input type="text" placeholder="Company name*" required>
            <select required>
              <option>Location*</option>
              <option>Aberdeen - Capitol Building</option>
              <option>London - Strand</option>
            </select>
            <select required>
              <option>Requirement*</option>
              <option>Serviced Office</option>
              <option>Meeting Room</option>
            </select>
            <input type="text" placeholder="Number of desks*">
            <input type="date" placeholder="Date required*">
          </div>

          <label><input type="checkbox"> I agree to receive communications as necessaryâ€¦*</label>
          <label><input type="checkbox"> I agree to receive other communications from Orega.</label>

          <button type="submit" class="submit-btn">SUBMIT</button>
        </form>
      </div>

      <!-- Right side image -->
      <div class="image-section">
        <img src="https://www.orega.com/hs-fs/hubfs/get-a-quote.png?width=400&height=800&name=get-a-quote.png" alt="Testimonial">
      </div>
    </div>
  </div>
</div>

<script>
document.addEventListener("DOMContentLoaded", function () {
  const toggle = document.getElementById("menu-toggle"); 
  const nav = document.getElementById("mobile-nav"); 
  toggle.addEventListener("click", function () { 
    nav.classList.toggle("show"); 
  }); 

  // Dropdown toggle for Contact Us
  const contactToggle = document.querySelector(".contact-toggle");
  const contactDropdown = document.querySelector(".contact-dropdown");

  if (contactToggle && contactDropdown) {
    contactToggle.addEventListener("click", function (e) {
      e.preventDefault(); // don't redirect
      contactDropdown.classList.toggle("open");
    });
  }

  // Modal logic
  const modal = document.getElementById("contactModal");
  const closeBtn = modal.querySelector(".close");
  document.querySelectorAll(".contact-option").forEach(link => {
    link.addEventListener("click", function (e) {
      e.preventDefault(); // stop redirect
      const type = this.getAttribute("data-form");
      document.getElementById("form-title").innerText = this.innerText;
      modal.style.display = "flex";
    });
  });
  closeBtn.addEventListener("click", () => modal.style.display = "none");
  window.addEventListener("click", (e) => { 
    if (e.target === modal) modal.style.display = "none"; 
  });
});
</script>
